<div class="user-create-form">
  <h2>Crear Nuevo Usuario</h2>
  <form id="userForm" autocomplete="off" data-permission="form">
    <div class="form-group" data-permission="field-fullName">
      <label for="fullName">Nombre Completo:</label>
      <input type="text" id="fullName" required autocomplete="off">
    </div>
    <div class="form-group" data-permission="field-username">
      <label for="username">Nombre de Usuario:</label>
      <input type="text" id="username" required autocomplete="off">
    </div>
    <div class="form-group" data-permission="field-rut">
      <label for="rut">RUT:</label>
      <input type="text" id="rut" required autocomplete="off">
    </div>
    <div class="form-group" data-permission="field-dob">
      <label for="dob">Fecha de Nacimiento:</label>
      <input type="date" id="dob" required autocomplete="off">
    </div>
    <div class="form-group" data-permission="field-email">
      <label for="email">Correo Electrónico:</label>
      <input type="email" id="email" required autocomplete="off">
    </div>
    <div class="form-group" data-permission="field-password">
      <label for="password">Contraseña:</label>
      <input type="password" id="password" required autocomplete="off">
    </div>
    <div class="form-group" data-permission="field-sex">
      <label for="sex">Sexo:</label>
      <select id="sex" required>
        <option value="">Seleccione</option>
        <option value="masculino">Masculino</option>
        <option value="femenino">Femenino</option>
        <option value="otro">Otro</option>
      </select>
    </div>
    <div class="form-group form-group-button">
      <button type="button" id="createUserBtn" data-permission="submit-button">Crear Usuario</button>
    </div>
    <div class="form-group" data-permission="field-role">
      <label for="role">Rol:</label>
      <select id="role" required>
        <option value="">Seleccione</option>
        <option value="administrador">Administrador</option>
        <option value="operador">Operador</option>
        <option value="gestor">Gestor</option>
      </select>
    </div>
  </form>

  <div class="users-table-section" data-permission="table">
    <h3>Usuarios Registrados</h3>
    <table id="usersTable">
      <thead>
        <tr>
          <th data-permission="column-fullName">Nombre Completo</th>
          <th data-permission="column-username">Nombre de Usuario</th>
          <th data-permission="column-rut">RUT</th>
          <th data-permission="column-dob">Fecha de Nacimiento</th>
          <th data-permission="column-email">Correo Electrónico</th>
          <th data-permission="column-sex">Sexo</th>
          <th data-permission="column-role">Rol</th>
        </tr>
      </thead>
      <tbody id="usersTableBody">
      </tbody>
    </table>
    <div class="pagination-controls">
      <button id="prevPage" disabled>Anterior</button>
      <span id="pageInfo"></span>
      <button id="nextPage">Siguiente</button>
    </div>
  </div>
</div>

<div id="permissionsModal" class="modal">
  <div class="modal-content">
    <span class="close-modal">&times;</span>
    <div class="permissions-section">
      <h3>Permisos Detallados</h3>
      <p>Seleccione los menús, submenús y elementos que el usuario puede acceder.</p>
      <div class="permissions-tree" id="permissionsTree">
      </div>
      <button id="savePermissions" class="modal-button">Guardar Permisos</button>
    </div>
  </div>
</div>

<script src="../../menu/menu.js"></script>
<script defer src="crear.js"></script>